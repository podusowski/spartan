{% extends "statistics/base.html" %}

{% block content %}

<h2>{{ workout.name }}</h2>

<section>
    {% for name, value in workout.metrics.items %}
        <dl>
            <dt>{{ name }}</dt>
            <dd>{{ value }}</dd>
        </dl>
    {% endfor %}
</section>

<h2>goal</h2>
<section>
    {% if goal %}
        <dl>
            <dt>progress</dt>
            <dd>{{ goal.progress }}</dd>
        </dl>
    {% endif %}

    <h3>set new</h3>
    <form action="{% url 'add_goal' %}" method="post">
        {% csrf_token %}
        <input type="hidden" name="name" value="{{ workout.name }}" />
        <ul>
            <li>
                <label for="volume">volume:</label>
                <input type="number" name="volume" value="{{ goal.volume }}" required />
                <input type="submit" value="save" />
            </li>
        </ul>
    </form>

    {% if goal %}
        <form method="post" action="{% url 'delete_goal' %}">
            {% csrf_token %}
            <input type="hidden" name="name" value="{{ goal.name }}" />
            <input type="submit" class="dangerous" value="delete" onclick="return confirm('are you sure you want to delete this goal?')" />
        </form>
    {% endif %}
</section>

{% endblock %}
