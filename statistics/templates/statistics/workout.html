{% extends "statistics/base.html" %}

{% block content %}

<section>
    <h2>{{ workout.name }}</h2>
    {% for name, value in workout %}
        <dl class="metric-long">
            <dt>{{ name }}</dt>
            <dd>{{ value }}</dd>
        </dl>
    {% endfor %}
</section>

<section>
    <h2>goal</h2>
    {% if goal %}
        <dl class="metric-long">
            <dt>current volume</dt>
            <dd>{{ goal.progress }}</dd>
        </dl>
        <dl class="metric-long">
            <dt>% of goal</dt>
            <dd>{{ goal.percent }}</dd>
        </dl>
    {% endif %}

    <form action="{% url 'add_goal' %}" method="post">
        {% csrf_token %}
        <input type="hidden" name="name" value="{{ workout.name }}" />
        <ul>
            <li>
                <label for="volume">set new volume</label>
                <input type="number" name="volume" value="{{ goal.volume }}" required />
                <input type="submit" value="save" />
            </li>
        </ul>
    </form>

    {% if goal %}
        <form method="post" action="{% url 'delete_goal' %}">
            {% csrf_token %}
            <input type="hidden" name="name" value="{{ goal.name }}" />
            <input type="submit" class="dangerous" value="delete" onclick="return confirm('are you sure you want to delete this goal?')" />
        </form>
    {% endif %}

    <p class="note">Enter <strong>number of total reps</strong> for strength excercises or <strong>number of kilometers</strong> for GPS tracked activities.</p>
</section>

{% endblock %}
